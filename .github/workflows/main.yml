name: asciidoc-markdown convert

on:
  push: 
    branches: [ master ]

jobs:
  adoc-export-convert-info:
    runs-on: ubuntu-latest

    steps:
      - name: checkout repo code
        uses: actions/checkout@v2
        run: |
          date > generated.txt
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add .
          git commit -m "generated"
          git push
     
      - name: Ruby init  
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: 2.7
      
      - name: Asciidoctor init
        uses: reitzig/actions-asciidoctor@v2.0.0
        with:
          version: 2.0.10
      
      - name: Asciidoctor version check
        run: asciidoctor --version

      # - name: Convert to docbook
      #   run: asciidoctor -b docbook docs/pandoc-test/*.adoc -D ./test
      
      # - name: Convert via Pandoc
      #   uses: maxheld83/pandoc-action@v2
      #   with: 
      #     args: "-f docbook -t markdown_strict ./test/testdoc.xml -o test/output/testmarkdown.md" # 'warn' or 'ignore' are also available, defaults to `warn` 

      # - name: pull-request-action
      #   uses: vsoch/pull-request-action@master
      #   env:
      #     GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      #     BRANCH_PREFIX: "update/"
      #     PULL_REQUEST_BRANCH: "master"